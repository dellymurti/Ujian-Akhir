<!DOCTYPE html>
<html>
<head>
    <title>Ujian Akhir Semester</title>
    <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>

<H3> *** Pemesanan Tiket Maskapai ***</H3>
    <form id="form"></form>
      <table width="500">
    <tr>
        <td>Nama Pemesan</td>
        <td>:</td>
        <td><input type="text" name="inputnama" id="inputnama"></td>
    </tr>
    <tr>
        <td>Jumlah Tiket</td>
        <td>:</td>
        <td><input type="number" id="inputjumlah" name=""><td>
    </tr>
    <tr>
        <td>Kelas</td>
        <td>:</td>
        <td><select name="inputkelas" id="inputkelas">
            <option>Ekonomi</option>
            <option>Bisnis</option>
            <option>Eksekutif</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Tujuan</td>
        <td>:</td>
        <td><select name="inputtujuan" id="inputtujuan">
            <option>Bali</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Bagasi</td>
        <td>:</td>
        <td><label for="bagasi"></label>
            <input type="radio" name="bagasi" id="bag1" value="5">5
            <input type="radio" name="bagasi" id="bag2" value="10">10
            <input type="radio" name="bagasi" id="bag3" value="15">15
        </td>
    </tr>
        <td>Asuransi</td>
        <td>:</td>
        <td><input type="checkbox" name="asuransi" id="asuransi1" value="Asuransi Jiwa">Asuransi Jiwa <br>
            <input type="checkbox" name="asuransi" id="asuransi2" value="Asuransi Kecelakaan">Asuransi Kecelakaan <br>
            <input type="checkbox" name="asuransi" id="asuransi3" value="Asuransi Keterlambatan">Asuransi Keterlambatan<br>
        </select>
        </td>
       <tr>
        <td>
            
            <input type="button" value="Simpan" onclick="tampilkan()" id="btn-tampil">
            <input type="reset" value="Batal">
          </td>
      </tr>
</table>

<form id="form"></form>
<table width="200">
    
  <H3>***** Data Pesanan Tiket *****</H3>
    <tr>
        <td>Nama Pemesan</td>
        <td>:</td>
        <td><label id="tampilnama"></label></td>
    </tr>
    <tr>
        <td>Jumlah Tiket</td>
        <td>:</td>
        <td><label id="tampiljumlah"></label></td><label id="disc"></label>
    </tr>
    <tr>
        <td>Kelas</td>
        <td>:</td>
        <td><label id="tampilkelas"></label></td><label id="tampilbonus"></label>
    </tr>
    <tr>
        <td>Tujuan</td>
        <td>:</td>
        <label id="tampiltujuan"></label>
        </tr>
    <tr>
        <td>Bagasi</td>
        <td>:</td>
        <td><label id="tampilbagasi"></label></td>
    </tr>
    <tr>
        <td>Asuransi</td>
        <td>:</td>
        <td><label id="tampilasuransi"></td>
    </tr>
    <tr>
        <td>Harga Total</td>
        <td>:</td>
        <td><label id="inputtotal"></td>
    </tr> 
</table>

</body>
</html>


<script>
        
    function tampilkan(){

        tampildata.style.display = 'block';

        var bonus;
        var ht=0;
        var biayabag=0;
        var biayaAsuransi=0;
        var diskon=0;
        var total=0;

        var nama=document.getElementById('inputnama').value;
        var tampilnama=document.getElementById("tampilnama").innerHTML=nama;

        var tujuan=document.getElementById("inputtujuan").value;
        var tampiltujuan=document.getElementById("tampiltujuan").innerHTML=tujuan;

        var jumlah=parseFloat(document.getElementById("inputjumlah").value);
        var tampiljumlah=document.getElementById("tampiljumlah").innerHTML=jumlah;

    if (jumlah>=3){diskon=0.3;
        var tampildiskon=document.getElementById("disc").innerHTML="(Get Disc "+ "30%)";
    }
        else
    {
        diskon=0.0;
        var tampildiskon=document.getElementById("disc").innerHTML="(No Disc)";
    }

        var e = document.getElementById("inputkelas");
        var setKelas = e.options[e.selectedIndex].text;
        tampilkelas.innerHTML=setKelas

        var kelas = document.getElementById("inputkelas").value;

    if(kelas==1){ht=1000000;
        bonus="Air Mineral";
        var harga=document.getElementById("tampilharga").innerHTML=ht;
        var getbonus=document.getElementById("tampilbonus").innerHTML="(Air Mineral)";
    } 
        else if(kelas==2){ht=2000000;
        bonus="Snack";
        var harga=document.getElementById("tampilharga").innerHTML=ht;
        var getbonus=document.getElementById("tampilbonus").innerHTML="(Snack)";
    } 
        else if(kelas==3){ht=3000000;
        bonus="Makan";
        var harga=document.getElementById("tampilharga").innerHTML=ht;
        var getbonus=document.getElementById("tampilbonus").innerHTML="(Makan)";
    } 
        else{ht=0;
    }

    var bag;

    if (document.getElementById('bag1').checked){
    biayabag=100000;
    bag=document.getElementById('bag1').value;
    } else if (document.getElementById('bag2').checked) {biayabag=150000;
    bag = document.getElementById('bag2').value;
    } 
    else if (document.getElementById('bag3').checked) {biayabag=200000;
    bag = document.getElementById('bag3').value;
    } 
    else{biayabag=0;
    }
    document.getElementById('tampilbagasi').innerHTML = bag;


    var getHargaBagasi=document.getElementById("tampilhargabagasi").value=biayabag;
    tampilhargabagasi.innerHTML=getHargaBagasi;

    var nAsuransi=document.querySelectorAll("input[name=asuransi]:checked");
    var hAsuransi=[];
    
    for(var a=0;a<nAsuransi.length;a++){
        hAsuransi.push(nAsuransi[a].value)
    }
    document.getElementById("tampilasuransi").innerHTML=hAsuransi.join(",");


    if(document.getElementById("asuransi1").checked){biayaAsuransi=50000;
    } 
    else if(document.getElementById("asuransi2").checked){biayaAsuransi=50000;
    }
    else if(document.getElementById("asuransi3").checked){biayaAsuransi=50000;
    } 
    else{biayaAsuransi=0;
    }

    jumlahbiaya=biayaAsuransi*hAsuransi.length;
    document.getElementById("tampilbiayaAsuransi").innerHTML=jumlahbiaya;

    if(diskon==0.3){
    var sub=harga*jumlah;
    var disc=0.3*sub;
    total=sub-disc+biayabag+jumlahbiaya;
    document.getElementById("inputtotal").innerHTML=eval(total);
    }
    else{
    total=harga*jumlah-0+biayabag+jumlahbiaya;
    document.getElementById("inputtotal").innerHTML=eval(total);
    }

    tampildata.onclick = tampilkan;
    }
</script>
